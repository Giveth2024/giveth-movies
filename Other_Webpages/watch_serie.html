<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css"/>
    <link rel="shortcut icon" href="../Images/Logo/logo.jpeg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:200,200italic,300,300italic,regular,italic,600,600italic,700,700italic,900" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Quicksand:300,regular,500,600,700" rel="stylesheet" />
    <title id="title">Giveth Movies - Serie Page</title>
</head>
<body id="body">
    <p id="up"></p>
    <header>
        <div class="title-logo">
            <i class="fa-solid fa-film logo"></i>
            <h3 class="title">Giveth Movies</h3>
        </div>
        <div class="link_holder" id="menu">
            <a href="../index.html" class="nav_links">Search</a>
            <a href="../Other_Webpages/home.html" class="nav_links">Home</a>
            <a href="../Movie_webpages/MovieList.html" class="nav_links">Movies</a>
            <a href="../Serie_webpages/SerieList.html" class="nav_links">Series</a>
        </div>
        <i class="fa-solid fa-bars hamburger"  id="hamburger-icon"></i>
    </header> 
    <main class="serie_main">
        <script src="../Scripts/localStorageCheckerScript.js"></script>
        <!-- Responsive Iframe -->
        <iframe class="serie_frame" id="serie_iframe"  allowfullscreen></iframe> 
        <div id="Ad_State">
            <p id="Ad_title"></p>
            <button id="id_redirect" type="button" onclick="Redirect()">Go To Advertisement</button>
        </div>
        
        <h1 class="h1_serie_title" id="serie_title">Parkitect</h1>
        
        
        <h2 class="h1_serie_title" id="serie_title_h2" style="margin-top: 20px;">Click On An Episode First</h2>
        
        <div class="serie_links_holder" id="serie_links_holder"></div>
        
        <script src="../Scripts/Ad.script.js"></script>
        <script>
            const information = JSON.parse(localStorage.getItem("serie_info"));
            const title = localStorage.getItem("serie_titles");
            const div_Holders = document.getElementById("serie_links_holder");
            const iframe_element = document.getElementById("serie_iframe");
            const h2 = document.getElementById("serie_title_h2");

            document.getElementById("serie_title").textContent = `${title}`;

            if (information)
            {          
                for (let element = 0; element < information.length; element++)
                {
                    let counter = element;
                    counter = counter + 1;
                    //create a p element
                    p_serie_title = document.createElement("p");
                    p_serie_title.className = "season_number_class";
                    p_serie_title.id = `season_number_id_${counter}`;
                    p_serie_title.textContent = `season ${counter}`;
    
                    //inside the link holder
                    div_Holders.appendChild(p_serie_title);
    
                    for(let item = 0; item < information[element].length; item++)
                    {
                        //Create a box that will hold the watch and download links
                        box = document.createElement("div");
                        box.className = "link_box";
    
                        div_Holders.appendChild(box);
    
                        for (let index = 0; index < information[element][item].length; index++) {
                            if (index === 0)
                            {
                                let counter = item;
                                counter = counter + 1;
                                                    //Create a button
                                var button = document.createElement("button");
                                button.className = "serie_button_class";
                                button.id = `serie_button_${item}`;
                                button.textContent = `Episode ${counter} : ${information[element][item][index]}`;
    
                                box.appendChild(button);
                                                    
                                button.addEventListener("click", function() {
                                    h2.textContent = `${information[element][item][index]}`;
        
                                });
                            }
                            if (index === 1)
                            {
                                button.addEventListener("click", function() {
                                    iframe_element.setAttribute("src",` ${information[element][item][index]}`)
                                    document.getElementById("up").scrollIntoView({behavior : 'smooth' });
        
                                });
                            }
                            if (index === 2)
                            {
                                let a_link = document.createElement("a");
                                a_link.id = `serie_download_link_${item}`;
                                a_link.className = "series_download_links";
                                a_link.setAttribute("href", `${information[element][item][index]}`);
                                a_link.textContent = "â¬‡";
    
                                box.appendChild(a_link);
                                                    
                            }
                        }
                    }
                }
                
                // localStorage.clear();
                
            }
            else
            {
                // window.location.href = "../index.html";
            }
            // Toggle the menu when the hamburger icon is clicked
        const menu = document.getElementById('menu');
        const hamburgerIcon = document.getElementById('hamburger-icon');

        hamburgerIcon.addEventListener('click', () => {
            menu.classList.toggle('active');
        });
            
        </script>
        
        <!-- Buttons below the movie title
        <p class="text">Watch Using:</p>
        <div class="buttons_div">
            <button class="buttons_div_button" onclick="Drive_Function()">Drive</button>
            
        </div>

        
        <p class="text">Download Using:</p>
        <div class="download_link_holder">
            <a href="#" target="_blank" class="download_link" id="serie_download_link">Drive</a>
            
        </div> -->
    </main>

    <footer>
        <!-- Footer Content -->
         <p class="text">Website made by: <span style="color: #EB5E28; font-weight: bolder;"><u>Giveth Movies</u></span></p>
         <a href="../Other_Webpages/Contact.html" class="contact_link">Contact Us</a>
    </footer>
</body>
</html>
